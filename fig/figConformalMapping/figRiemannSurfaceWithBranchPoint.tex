\documentclass{standalone}
\usepackage{fontspec}
\usepackage{commath}   %differential symbol   \dif
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.9}
\usepackage[europeanresistors]{circuitikz}
\usetikzlibrary{intersections,decorations.markings,calc,patterns}
\usepackage{polyglossia}                %is loaded the last
\usepackage{siunitx}
\usepackage{amsmath}
\input{../../tex/myEMTvectors.tex}

\setmainlanguage[numerals=maghrib]{arabic}     %for english numbers use numerals=maghrib, for arabic numerals=arabicdigits
\setotherlanguages{english}


\newfontfamily\arabicfont[Scale=1.0,Script=Arabic]{Jameel Noori Nastaleeq}
%\newfontfamily\urdufont[Scale=1.0,Script=Arabic]{XB Tabriz}
\newfontfamily\urdufont[Scale=1.25,WordSpace=6.0,,Script=Arabic]{Jameel Noori Nastaleeq}

\pgfmathsetmacro{\A}{0.75}
\pgfmathdeclarefunction{Ey}{2}{\pgfmathparse{\A*cos(#1)*sin(#2)}}

\pgfplotsset{select coords between index/.style 2 args={
    x filter/.code={
        \ifnum\coordindex<#1\def\pgfmathresult{}\fi
        \ifnum\coordindex>#2\def\pgfmathresult{}\fi
    }
}}


\begin{document}
\begin{urdufont}
\begin{tikzpicture}
\pgfmathsetmacro{\kdy}{0.3}
\pgfmathsetmacro{\kx}{1}
\pgfmathsetmacro{\ky}{0.75}
\pgfmathsetmacro{\kkx}{1+\kdy}
\pgfmathsetmacro{\kky}{0.75+0.5*\kdy}
\pgfmathsetmacro{\kang}{20}
\pgfmathsetmacro{\kangA}{30}
%grid
%\draw[thick] (-2,-2) grid (2,2);
%\draw[thin,gray,step=0.1] (-2,-2) grid (2,2);
%
\draw(0,0) circle (0.1cm and 3/4*0.1 cm);
\draw([shift={(-90+\kang:\kx cm and \ky cm)}]0,0) arc (-90+\kang:270-\kang:\kx cm and \ky cm);
\draw(-90+\kang:\kx cm and \ky cm) to [out=180+\kang,in=45] (-90:\ky cm+0.2cm);
\draw(-90-\kang:\kx cm and \ky cm) to [out=-\kang,in=135] (-90:\ky cm+0.2cm);
%
\draw([shift={(-90+\kang:\kx cm+\kdy cm and \ky cm+\kdy cm)}]0,0) arc (-90+\kang:270-\kang:\kx cm+\kdy cm and \ky cm+\kdy cm);
\draw(-90+\kang:\kx cm+\kdy cm and \ky cm+\kdy cm) to [out=180+\kang,in=45] (-90:\ky cm+\kdy cm+0.2cm)coordinate(kC);
\draw(-90-\kang:\kx cm+\kdy cm and \ky cm+\kdy cm) to [out=-\kang,in=135] (-90:\ky cm+\kdy cm+0.2cm)coordinate(kD);
%
\draw(0.15,-1.12)  to [out=-40,in=-80] (1.15,-0.5);
\draw(kD) to  [out=-40, in =-135] (1,-1.3) to [out=45,in=-60] (1.3,-0.1);
\draw(-0.15,-1.12)  to [out=180+40,in=180+80] (-1.15,-0.5);
\draw(kD) to  [out=180+40, in =-45] (-1,-1.3) to [out=180-45,in=180+60] (-1.3,-0.1);
%dashed
\draw[dashed](kD)++(0,0.15) to [out=45,in=-150] (0.4,-0.85) to [out=30,in=-90] (1.15,0) to [out=90,in=0] (0,0.9);
\draw[dashed](kD)++(0,0.15) to [out=180-45,in=-30] (-0.4,-0.85) to [out=180-30,in=-90] (-1.15,0) to [out=90,in=180] (0,0.9);
\draw[dashed](0.1,-1.2) to [out=-40,in=180] (0.6,-1.35) to [out=0,in=-135] (1.1,-1)to [out=45,in=-60] (1.225,-0.35);
\draw[dashed](-0.1,-1.2) to [out=-140,in=0] (-0.6,-1.35) to [out=180,in=-45] (-1.1,-1)to [out=135,in=180+60] (-1.225,-0.35);
\end{tikzpicture}%
\end{urdufont}
\end{document} 
